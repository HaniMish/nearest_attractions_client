(this.webpackJsonpnearest_attractions_client=this.webpackJsonpnearest_attractions_client||[]).push([[0],{29:function(t,e,c){},30:function(t,e,c){},32:function(t,e,c){},42:function(t,e,c){},43:function(t,e,c){},44:function(t,e,c){},45:function(t,e,c){},46:function(t,e,c){"use strict";c.r(e);var a=c(0),n=c.n(a),i=c(10),s=c.n(i),r=(c(29),c(13)),o=c(2),l=c.p+"static/media/logo.72aced23.png",d=(c(30),c(1));var j=function(){return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("a",{href:"/",className:"header-logo",children:Object(d.jsx)("img",{src:l,alt:"logo",className:"logo"})}),Object(d.jsxs)("div",{className:"header-links",children:[Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("a",{rel:"noreferrer",href:"https://github.com/RachelySternberg/Nearest-Attractions",target:"_blank",children:Object(d.jsx)("span",{className:"icon__name",children:"GitHub"})})})," "]})]})},b=c(6),h=(c(32),function(t){var e=t.lat,c=t.lng;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(r.b,{to:{pathname:"/attractions",state:{lat:e,lng:c}},children:Object(d.jsx)("button",{className:"button",children:"\u05de\u05e6\u05d0 \u05d0\u05d8\u05e8\u05e7\u05e6\u05d9\u05d5\u05ea \u05d1\u05e1\u05d1\u05d9\u05d1\u05ea\u05d9"})})})}),u=c(12),m="SET_LOCATION";var O=Object(u.b)((function(t){return{myLocation:t.location}}),(function(t){return{setLoc:function(e){t({type:m,payload:e})}}}))((function(t){var e=Object(a.useState)(null),c=Object(b.a)(e,2),n=c[0],i=c[1],s=Object(a.useState)(!1),r=Object(b.a)(s,2),o=r[0],l=r[1],j=t.myLocation,u=t.setLoc;return Object(d.jsxs)("div",{className:"home",children:[Object(d.jsx)("div",{className:"home-introduction",children:"\u05d1\u05d0 \u05e0\u05e6\u05d0 \u05dc\u05d2\u05dc\u05d5\u05ea \u05d0\u05ea \u05db\u05dc \u05d4\u05d0\u05d8\u05e8\u05e7\u05e6\u05d9\u05d5\u05ea \u05d4\u05e7\u05e8\u05d5\u05d1\u05d5\u05ea \u05dc\u05d0\u05d6\u05d5\u05e8\u05da"}),Object(d.jsx)("button",{className:"button",onClick:function(){navigator.geolocation?(i("\u05d4\u05de\u05e2\u05e8\u05db\u05ea \u05de\u05d0\u05ea\u05e8\u05ea \u05d0\u05ea \u05de\u05d9\u05e7\u05d5\u05de\u05da"),navigator.geolocation.getCurrentPosition((function(t){i(null),u({x:t.coords.latitude,y:t.coords.longitude}),l(!0)}),(function(){i("Unable to retrieve your location")}))):i("Geolocation is not supported by your browser")},children:"\u05d4\u05e6\u05d2 \u05de\u05d9\u05e7\u05d5\u05dd"}),n&&Object(d.jsx)("div",{className:"home-status",children:n}),!n&&Object(d.jsxs)("div",{className:"home-location",children:["\u05de\u05d9\u05e7\u05d5\u05de\u05da \u05d4\u05e0\u05d5\u05db\u05d7\u05d9:",Object(d.jsxs)("span",{className:"home-location-line",children:["Y: ",j.y]}),",",Object(d.jsxs)("span",{className:"home-location-line",children:["X: ",j.x]})]}),o&&Object(d.jsx)(h,{lat:j.x,lng:j.y})]})})),x=c(24);c(42);function f(t){return t*Math.PI/180}c(43);function p(t){return Object(d.jsxs)("div",{className:"select-container",children:[Object(d.jsx)("h2",{className:"select-title",children:"\u05d1\u05d7\u05e8 \u05d1\u05e1\u05d5\u05d2 \u05d4\u05d0\u05d8\u05e8\u05e7\u05e6\u05d9\u05d4 \u05d4\u05de\u05d5\u05e2\u05d3\u05e4\u05ea \u05e2\u05dc\u05d9\u05da:"}),Object(d.jsx)("div",{className:"select",children:Object(d.jsx)("select",{className:"select-box",onChange:function(e){t.selectedCategory(e.target.value)},children:t.categories.map((function(t){return Object(d.jsx)("option",{className:"select-option",value:t,children:t},t)}))})})]})}c(44);var g=c.p+"static/media/favorite.76660b69.svg";function v(t){var e=Object(a.useState)((function(){return!localStorage.getItem("favorites")||!localStorage.getItem("favorites").split(",").includes(t.item.id.toString())})),c=Object(b.a)(e,2),n=c[0],i=c[1];return Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"card-ribbon",children:Object(d.jsx)("div",{className:"card-ribbon-text",children:t.item.type})}),Object(d.jsx)("img",{src:"https://images.unsplash.com/photo-1504173010664-32509aeebb62?ixlib=rb-1.2.1&auto=format&fit=crop&w=713&q=80",alt:"img"}),Object(d.jsx)("img",{className:n?"card-favourite blank":"card-favourite red",onClick:function(){var e=localStorage.getItem("favorites");if((e=e?e.split(","):[]).includes(t.item.id.toString())){var c=e.indexOf(t.item.id.toString());-1!==c&&e.splice(c,1)}else e.push(t.item.id.toString());localStorage.setItem("favorites",e.toString()),i(!n)},src:g,alt:"fuvorite"}),Object(d.jsxs)("div",{className:"card-info",children:[Object(d.jsx)("div",{className:"card-name",children:t.item.name}),Object(d.jsxs)("div",{className:"card-id card-detail-with-title",children:[Object(d.jsx)("h3",{className:"card-info-title",children:"\u05de\u05e1\u05e4\u05e8 \u05de\u05d6\u05d4\u05d4:"}),Object(d.jsx)("span",{className:"card-info-content",children:t.item.id})]}),Object(d.jsxs)("div",{className:"card-address card-detail-with-title",children:[Object(d.jsx)("h3",{className:"card-info-title",children:"\u05db\u05ea\u05d5\u05d1\u05ea:"}),Object(d.jsx)("span",{className:"card-info-content",children:t.item.address})]}),Object(d.jsxs)("div",{className:"card-location card-detail-with-title",children:[Object(d.jsx)("h3",{className:"card-info-title",children:"\u05de\u05e8\u05d7\u05e7 \u05de\u05de\u05d9\u05e7\u05d5\u05de\u05da:"}),Object(d.jsx)("span",{className:"card-info-content",children:parseFloat(t.item.dis).toFixed(2)})]}),Object(d.jsxs)("div",{className:"card-open-hours",children:[Object(d.jsx)("h3",{className:"card-info-title",children:"\u05e9\u05e2\u05d5\u05ea \u05e4\u05ea\u05d9\u05d7\u05d4:"}),Object(d.jsx)("ul",{className:"card-info-content",children:t.item.openHours.replace("</br>","\n").split(",").map((function(t,e){return Object(d.jsx)("li",{children:t},e)}))})]}),Object(d.jsx)("a",{className:"card-link",href:t.item.link,target:"_blank",rel:"noreferrer",children:"\u05e7\u05e4\u05e6\u05d5 \u05dc\u05d1\u05e7\u05e8 \u05d1\u05d0\u05ea\u05e8 \u05e9\u05dc\u05e0\u05d5"})]})]},t.item.id)}c(45);var N=function(){return Object(d.jsx)("div",{className:"loader loader--style1",title:"0",children:Object(d.jsxs)("svg",{version:"1.1",id:"loader-1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"40px",height:"40px",viewBox:"0 0 40 40",enableBackground:"new 0 0 40 40",xmlSpace:"preserve",children:[Object(d.jsx)("path",{opacity:"0.2",fill:"#000",d:"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946\r s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634\r c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"}),Object(d.jsx)("path",{fill:"#000",d:"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0\r C22.32,8.481,24.301,9.057,26.013,10.047z",children:Object(d.jsx)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"0.5s",repeatCount:"indefinite"})})]})})};function y(t){var e=Object(a.useState)(null),c=Object(b.a)(e,2),n=c[0],i=c[1],s=Object(a.useState)(!1),r=Object(b.a)(s,2),o=r[0],l=r[1],j=Object(a.useState)([]),h=Object(b.a)(j,2),u=h[0],m=h[1],O=Object(a.useState)([]),g=Object(b.a)(O,2),y=g[0],S=g[1],w=Object(a.useState)([{lat:0,lng:0}]),M=Object(b.a)(w,2),k=M[0],C=M[1],F=Object(a.useState)("\u05d4\u05e6\u05d2 \u05d4\u05db\u05dc"),L=Object(b.a)(F,2),_=L[0],I=L[1];return Object(a.useEffect)((function(){C(t.location.state),fetch("https://nearest-attraction.herokuapp.com/api/attractions").then((function(t){return t.json()})).then((function(t){l(!0),m(t.attractionsList),S(["\u05d4\u05e6\u05d2 \u05d4\u05db\u05dc"].concat(Object(x.a)(t.attractionsTypesList)))}),(function(t){l(!0),i(t)}))}),[]),n?Object(d.jsxs)("div",{children:["Error: ",n.message]}):o?(u.forEach((function(t){var e=function(t,e,c,a){var n=f(c-t),i=f(a-e),s=f(t),r=f(c),o=Math.sin(n/2)*Math.sin(n/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(s)*Math.cos(r);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371}(k.lat,k.lng,t.x,t.y);t.dis=e,t.favorite=!1})),u.sort((function(t,e){return t.dis-e.dis})),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(p,{categories:y,selectedCategory:function(t){return I(t)}}),Object(d.jsx)("div",{className:"attractions-grid",children:u.filter((function(t){return"\u05d4\u05e6\u05d2 \u05d4\u05db\u05dc"===_?t:t.type.includes(_)})).map((function(t){return Object(d.jsx)(v,{item:t},t.id)}))})]})):Object(d.jsx)(N,{})}var S=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j,{}),Object(d.jsxs)(r.a,{children:[Object(d.jsx)(o.a,{exact:!0,component:O,path:"/"}),Object(d.jsx)(o.a,{exact:!0,component:y,path:"/attractions"})]})]})},w=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,47)).then((function(e){var c=e.getCLS,a=e.getFID,n=e.getFCP,i=e.getLCP,s=e.getTTFB;c(t),a(t),n(t),i(t),s(t)}))},M=c(14),k=c(21),C=c(22),F=Object(C.a)((function(t,e){var c=e.type,a=e.payload;if(c===m)t.location=a}),{location:{}}),L=[c(23).a],_=Object(M.createStore)(F,Object(k.composeWithDevTools)(M.applyMiddleware.apply(void 0,L)));s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(u.a,{store:_,children:Object(d.jsx)(S,{})})}),document.getElementById("root")),w()}},[[46,1,2]]]);
//# sourceMappingURL=main.86a7b78f.chunk.js.map